import"./boxicons-a460ae34.js";(function(t){const o=t("body"),p=t(window),u=o.hasClass("rtl");t("#ld_cl_bar");const m=p.width(),y=m<768,j=t(".mask-overlay"),S=t("html");let z=null,N=t(".nt_js_cart");o.addClass("kalles-ready");let F=s=>({ACDT:"+1030",ACST:"+0930",ADT:"-0300",AEDT:"+1100",AEST:"+1000",AHDT:"-0900",AHST:"-1000",AST:"-0400",AT:"-0200",AWDT:"+0900",AWST:"+0800",BAT:"+0300",BDST:"+0200",BET:"-1100",BST:"-0300",BT:"+0300",BZT2:"-0300",CADT:"+1030",CAST:"+0930",CAT:"-1000",CCT:"+0800",CDT:"-0500",CED:"+0200",CET:"+0100",CEST:"+0200",CST:"-0600",EAST:"+1000",EDT:"-0400",EED:"+0300",EET:"+0200",EEST:"+0300",EST:"-0500",FST:"+0200",FWT:"+0100",GMT:"GMT",GST:"+1000",HDT:"-0900",HST:"-1000",IDLE:"+1200",IDLW:"-1200",IST:"+0530",IT:"+0330",JST:"+0900",JT:"+0700",MDT:"-0600",MED:"+0200",MET:"+0100",MEST:"+0200",MEWT:"+0100",MST:"-0700",MT:"+0800",NDT:"-0230",NFT:"-0330",NT:"-1100",NST:"+0630",NZ:"+1100",NZST:"+1200",NZDT:"+1300",NZT:"+1200",PDT:"-0700",PST:"-0800",ROK:"+0900",SAD:"+1000",SAST:"+0900",SAT:"+0900",SDT:"+1000",SST:"+0200",SWT:"+0100",USZ3:"+0400",USZ4:"+0500",USZ5:"+0600",USZ6:"+0700",UT:"-0000",UTC:"-0000",UZ10:"+1100",WAT:"-0100",WET:"-0000",WST:"+0800",YDT:"-0800",YST:"-0900",ZP4:"+0400",ZP5:"+0500",ZP6:"+0600"})[s]||"UTC",V=(s,e,a,i,n)=>{if(!(s.length<1)){i=i||"both";var r=t(window),l=s.length>1?s.eq(0):s,c=typeof n<"u"&&n!==null,d=c?t(n):r,_=c?d.position():0,h=l.get(0),v=d.outerWidth(),b=d.outerHeight(),g=a===!0?h.offsetWidth*h.offsetHeight:!0;if(typeof h.getBoundingClientRect=="function"){var f=h.getBoundingClientRect(),D=c?f.top-_.top>=0&&f.top<b+_.top:f.top>=0&&f.top<b,I=c?f.bottom-_.top>0&&f.bottom<=b+_.top:f.bottom>0&&f.bottom<=b,w=c?f.left-_.left>=0&&f.left<v+_.left:f.left>=0&&f.left<v,x=c?f.right-_.left>0&&f.right<v+_.left:f.right>0&&f.right<=v,C=e?D||I:D&&I,T=e?w||x:w&&x,C=f.top<0&&f.bottom>b?!0:C,T=f.left<0&&f.right>v?!0:T;if(i==="both")return g&&C&&T;if(i==="vertical")return g&&C;if(i==="horizontal")return g&&T}else{var k=c?0:_,M=k+b,P=d.scrollLeft(),q=P+v,W=l.position(),A=W.top,B=A+l.height(),E=W.left,R=E+l.width(),Z=e===!0?B:A,G=e===!0?A:B,L=e===!0?R:E,Q=e===!0?E:R;if(i==="both")return!!g&&G<=M&&Z>=k&&Q<=q&&L>=P;if(i==="vertical")return!!g&&G<=M&&Z>=k;if(i==="horizontal")return!!g&&Q<=q&&L>=P}}},O=(s,e)=>Math.floor(Math.random()*(e-s+1))+s,U=s=>s instanceof Date&&!isNaN(s);if(t.fn.kallesRefresh_flickity=function(){return t(this).flickity(JSON.parse(t(this).attr("data-flickity")||t(this).attr("data-flickityjs")||"{}")),t(this)},t.fn.kallesFlickityResponsive=function(s){if(typeof t.fn.flickity<"u"){let e=t(this);s&&e.find(".swatch__list_js.lazyloaded").each(function(){e.flickity("resize")}),e.find(".swatch__list_js").on("lazyincluded",function(a){e.flickity("resize")})}},t.fn.bannerCountdown=function(){t(this).each(function(){t(this).countdown(t(this).data("date"),function(s){t(this).html(s.strftime("%D days %H:%M:%S"))})})},t.fn.openMenu=function(s){t(this).addClass("act_current"),S.addClass("hside_opened"),o.addClass("pside_opened"),s.addClass("act_opened"),j.addClass("mask_opened")},t.fn.closeMenu=function(){t(".push_side.act_current").removeClass("act_current"),S.removeClass("hside_opened"),o.removeClass("pside_opened"),t(".nt_fk_canvas.act_opened,.nt_fk_full.act_opened").removeClass("act_opened"),j.removeClass("mask_opened")},t.fn.kallesFlashSold=function(){t(this).length&&t(this).each(function(){const s=t(this),e=s.data("mins")||5,a=s.data("maxs")||25,i=s.data("mint")||3,n=s.data("maxt")||24;s.find(".nt_pr_sold").html(O(e,a)),s.find(".nt_pr_hrs").html(O(i,n)),s.show()})},t.fn.kallesAnimation=function(){t(this).each(function(){let s=t(this),e=s.data("ani"),a=s.data("time")||"5000";if(e&&e!=="none"){e=`animated ${e}`;const i=parseInt(a,10),n=1e3;setInterval(()=>{s.addClass(e),setTimeout(()=>s.removeClass(e),n)},i)}})},t.fn.initCountdown_pr=function(){t(this).each(function(){let s=t(this),e=s.attr("id")||"nt_countdow_ppr",a=t(e+"_txt"),i=new Date,n=s.data("time"),r="",l=n.split(","),c=i.getFullYear()+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+("0"+i.getDate()).slice(-2),d=i.getFullYear()+("0"+(i.getMonth()+1)).slice(-2)+("0"+i.getDate()).slice(-2),_=("0"+i.getHours()).slice(-2)+("0"+i.getMinutes()).slice(-2)+("0"+i.getSeconds()).slice(-2),h=s.data("timezone"),v=s.data("loop"),b=l.length;if(s.hasClass("nt_loop")){let w=h?s.data("shoph"):_,x=h?s.data("shopt"):c,C=h?s.data("zone"):"",T=!1,k,M=l.length;for(k=0;k<M;k++)if(parseInt(l[k].replace(/:/g,""),10)>=parseInt(w,10)){r=l[k].replace("24:00:00","23:59:59");break}else k===b-1&&(T=!0,r=l[k].replace("24:00:00","23:59:59"));c=x+" "+r+" "+C,U(new Date(c))||(C=F(C),c=x+" "+r+" "+C),v&&T&&(c=getToday(1,11,x+" "+C)+" "+r+" "+C)}else{let w="",x=h?s.data("shopt"):d+_,C=s.data("timej")+"",T=C.split(","),k,M=l.length;for(k=0;k<M;k++)if(parseInt(T[k],10)>parseInt(x.toString().slice(0,T[k].length),10)){w=l[k].replace("24:00:00","23:59:59"),h&&(w=w+" "+s.data("zone"));break}if(c=w,!U(new Date(c))){const P=F(P);c=x+" "+r+" "+P}}n=new Date(c);const g=a.find(".day").text(),f=a.find(".hr").text(),D=a.find(".min").text(),I=a.find(".sec").text();s.countdown(n,{elapse:!0}).on("update.countdown",function(w){w.elapsed?(s.html(""),a.hide()):(a.find(".mess_cd").show(),s.html(w.strftime('<div class="block tc"><span class="flip-top">%-D</span><br><span class="label tu">'+g+'</span></div><div class="block tc"><span class="flip-top">%H</span><br><span class="label tu">'+f+'</span></div><div class="block tc"><span class="flip-top">%M</span><br><span class="label tu">'+D+'</span></div><div class="block tc"><span class="flip-top">%S</span><br><span class="label tu">'+I+"</span></div>")))})})},t.fn.initCountdown=function(){t(this).each(function(){const s=t(this);s.countdown(s.data("date"),{elapse:!0}).on("update.countdown",function(e){e.elapsed?s.closest(".pr_deal_dt").html("").addClass("expired_cdt4"):s.html(e.strftime("%D Days %H:%M:%S"))}).addClass("done_cd").closest(".pr_deal_dt").addClass("donetmcd")})},t.fn.initSeCountdown=function(){t(this).each(function(){const s=t(this);s.countdown(s.data("date"),function(e){const a=[];a.push('<span class="countdown-days">%-D <span>days</span></span>'),a.push('<span class="countdown-hours">%H <span>hr</span></span>'),a.push('<span class="countdown-min">%M <span>min</span></span>'),a.push('<span class="countdown-sec">%S <span>sc</span></span>'),s.html(e.strftime(a.join(" ")))}).addClass("done_cd").closest(".sepr_deal_dt").addClass("donetmcd")})},t.fn.catTabs=function(){t(this).click(function(s){s.preventDefault();const e=t(this),a=e.data("bid"),i=e.closest(".kalles-section"),n=i.find(".tab_se_header .tt_active"),r=i.find(".tab_se_content .ct_active"),l=t("#"+a),c=l.find(".js_carousel");n.removeClass("tt_active"),e.addClass("tt_active"),r.removeClass("ct_active"),l.addClass("ct_active"),c.length!==0&&c.flickity("resize")})},t.fn.linkTrigger=function(){t(this).click(function(s){s.preventDefault(),t(t(this).data("trigger")).trigger("click")})},t.fn.linkAcc=function(){t(this).on("click",".link_acc",function(s){s.preventDefault(),t("#nt_login_canvas .is_selected").removeClass("is_selected"),t(t(this).data("id")).addClass("is_selected")})},t.fn.kallesInitMegaMenu=function(){t(window).width()>767&&t(this).each(function(){let s=t(this),e=t(window),a=o.hasClass("des_header_7");t("#nt_menu_id").find(" > li.menu_has_offsets");let i=e.width(),n=t("#nt_wrapper"),r=n.outerWidth()+n.offset().left,l=o.hasClass("wrapper-boxed")||o.hasClass("wrapper-boxed-small")?r:i,c=s.find(" > .sub-menu");if(c.addClass("calc_pos").attr("style",""),a){let f=c.offset().top+c.outerHeight(),D=e.scrollTop()+e.outerHeight();f>D&&c.css({top:D-f-10})}if(a)return;let d=c.outerWidth(),_=c.offset(),h=s.hasClass("menu_wid_full")?0:10;if(!d||!_)return;let v=i-_.left-d;if(d>=0&&s.hasClass("menu_center")){let f=_.left+d/2-i/2;u?c.css({right:f}):c.css({left:-f})}else if(u&&(v+d>=l||s.hasClass("menu_wid_full"))&&s.hasClass("menu_has_offsets")){var b=v+d-l;c.css({right:-b-h})}else if((_.left+d>=l||s.hasClass("menu_wid_full"))&&s.hasClass("menu_has_offsets")){var g=_.left+d-l;c.css({left:-g-h})}})},t.fn.kallesLazyMenu=function(){t(this).length&&t(this).each(function(){t(this).closest("li.menu_has_offsets").kallesInitMegaMenu()})},t.fn.kallesMobileNav=function(){let s=function(e){e.hasClass("nt_opended")?e.removeClass("nt_opended").children("ul").slideUp(200):e.addClass("nt_opended").children("ul").slideDown(200)};t(this).on("click",".menu-item-has-children.only_icon_false>a",function(e){e.preventDefault(),e.stopPropagation(),s(t(this).parent())}),t(this).on("click",".menu-item-has-children .nav_link_icon",function(e){e.preventDefault(),e.stopPropagation(),s(t(this).parent().parent())}),t(this).on("click",".mb_nav_tabs>div",function(){if(t(this).hasClass("active"))return;let e=t(this),a=e.data("id");e.parent().find(".active").removeClass("active"),e.addClass("active"),t(".mb_nav_tab").removeClass("active"),t(a).addClass("active")})},t.fn.kallesBackToTop=function(){let s=null,e=t(this);t(window).scroll(function(){s&&window.clearTimeout(s),s=window.setTimeout(function(){t(this).scrollTop()>100?e.addClass("bkt_show"):e.removeClass("bkt_show")},40)}),e.on("click",function(){return t("html, body").animate({scrollTop:0},800),!1})},t.fn.initStickyMenu=function(){if(o.hasClass("header_sticky_false")||o.hasClass("des_header_7")&&m>1400)return;let s=t("#ntheader"),e=!1,a=!0,i=window.pageYOffset,n=o.hasClass("hide_scrolld_true"),r=s.outerHeight(),l=r,c="#kalles-section-header_banner";d(),p.on("resize",function(){d()}),p.on("scroll",function(){if(!a){var v=t(window).scrollTop();if(v>l?_():h(),n){var b=window.pageYOffset;i>b&&v>l?s.addClass("h_scroll_up").removeClass("h_scroll_down"):v<=l?s.removeClass("h_scroll_down h_scroll_up"):s.addClass("h_scroll_down").removeClass("h_scroll_up"),i=b}}});function d(){a=!0,s.removeClass("sticky_prepared").css("height",""),r<s.outerHeight()&&(r=s.outerHeight()),!(o.hasClass("des_header_7")&&t(window).width()>1024)&&(a=!1,s.addClass("sticky_prepared").css({height:r}),t(c).length>0&&(l+=t(c).outerHeight()))}function _(){e||(e=!0,s.addClass("live_stuck"),s.on("animationend webkitAnimationEnd oAnimationEnd",function(){s.addClass("ani_none")}))}function h(){e&&(e=!1,s.addClass("trs_stuck").removeClass("live_stuck h_scroll_down"),s.removeClass("ani_none trs_stuck"))}},t.fn.swatchesOnBGGrid=function(){const s=t(this);let e=s.data("bgset");s.data("pd");let a=s.data("id"),i=s.data("vid"),n=s.parents(".nt_pr"),r=n.find(".main-img"),l=n.find(".product-title>a").attr("href");s.parents(".swatch__list_js").find(".current-swatch").removeClass("current-swatch"),s.addClass("current-swatch"),n.addClass("nt-swatched"),s.hasClass("loaded_swatch")?r.addClass("hide_ic_lz"):r.removeClass("hide_ic_lz"),s.addClass("loaded_swatch"),r.attr("data-bgset",e).attr("data-id",a),n.find("a").attr("href",l.split("?variant=")[0]+"?variant="+i),n.find(".nt_add_qv").attr("data-id",i)},t.fn.parallax=function(){if(t(this).length>0){let s=function(e){var a=e||t(".nt_parallax_true.lazyloaded:not(.js_ralax_doned)");a.addClass("js_ralax_doned").jarallax({speed:a.attr("data-speed")||.8})};s(),t(".nt_parallax_true:not(.lazyloaded)").one("lazyloaded",function(e){setTimeout(function(){s()},200)})}},t.fn.kallesSwatches=function(){t(this).length&&o.on("click",".swatch_pr_item:not(.is-selected)",function(s){s.preventDefault();let e=t(this);if(e.addClass("is-selected").siblings().removeClass("is-selected"),e.data("escape")&&e.closest(".kalles_swatch_js").find(".user_choose_js,.nt_name_current").text(e.data("escape")),e.data("index")){const a=e.closest(".kalles-section").find(".col_thumb .pr_carousel").first();a&&a.flickity().flickity("select",e.data("index"))}if(e.data("filter")){let a=e.closest(".container_cat").find(".p-thumb"),i=e.closest(".container_cat").find(".p-nav"),n=e.data("filter"),r=[];a.length&&Array.isArray(n)&&(a.data("flickity"),n.forEach(l=>{r.push(`<div class="${l.class}" data-mdid="${l.mdid}" data-height="${l.height}" data-width="${l.width}" data-ratio="${l.ratio}" data-mdtype="${l.mdtype}" data-src="${l.src}" data-bgset="${l.bgset}" data-cap="${l.cap}"></div>`)}),a.flickity("destroy").empty().append(r.join("")).kallesRefresh_flickity(),i.length&&i.flickity("destroy").empty(),setTimeout(()=>t(".kalles_product_thumnb_slide").kallesSingleProductThumbnail(),100),t(".p-thumb.only_owl_mb").kallesProductIsotope(!y),t("[data-featured-product-se]").kallesInitFeaturedProduct(),t(".pr_sticky_content").kallesStickySingleProductDetail(!y&&o.hasClass("single-product-template")))}})},t.fn.kallesDisableNavSlider=function(){t(this).length&&t(this).each(function(){const s=t(this).data("flickity");if(s){const e=s.selectedCells?s.selectedCells.length:null,a=s.cells?s.cells.length:null;e&&a&&e===a?t(this).addClass("flickity_prev_disable flickity_next_disable"):t(this).removeClass("flickity_prev_disable flickity_next_disable")}})},t.fn.kallesSingleProductThumbnail=function(){if(t(this).length){let e=function(a,i,n){let r=[],l=t(".p-nav.ratio_imgtrue").length>0;a.find(".p-item:not(.is_varhide)").each(function(){let c=t(this),d=c.data("bgset"),_=c.data("mdtype"),h=c.data("mdid"),v=c.data("ratio"),b="",g="hide";_==="video"?g="las la-play":_==="external_video"?g="lab la-youtube":_==="model"&&(g="las la-cube"),l&&(b=' style="padding-top:'+1/v*100+'%"'),r.push('<div class="'+n+'col-3 n-item" data-mdid="'+h+'" data-mdtype="'+_+'"><span class="nt_bg_lz lazyload" data-bgset="'+d+'"'+b+'><i class="'+g+'"></i></span></div>')}),i.empty().append(r.join("")),i.kallesRefresh_flickity(),i.addClass("p-nav-ready")},s=t(".p_group_btns");t(this).each(function(){let a=t(this).find(".p-nav"),i=t(this).find(".p-thumb"),n=t(".thumb_left").length>0||t(".thumb_right").length>0?"col-lg-12 ":"",r=t(".col_nav"),l=400,c=i.find("[data-pr-md-tp-model]").length>0||i.find("[data-pr-md-tp-video]").length>0;i.each(function(d){e(t(this),a.length===1?a:a.eq(d),n)}),c&&i.on("select.flickity",function(d,_){let h=i.find(".is-selected"),v=h.data("mdtype");t(".p-thumb [data-pr-md-tp-video] , .p-thumb [data-pr-md-tp-model]").trigger("mediaHidden"),s.removeClass("nt_hide nt_hide_2"),["video","external_video","model"].includes(v)&&(v==="model"?(s.addClass("nt_hide_2"),h.find("[data-pr-md-tp-model]").trigger("mediaVisible")):(s.addClass("nt_hide"),h.find("[data-pr-md-tp-video]").trigger("mediaVisible")))}),r.find(".btn_pnav_next, .btn_pnav_prev").off("click").on("click",function(d){let _=t(this),h=a.find(".flickity-slider").height(),v=a.height(),b=h/a.find(".n-item").length,g=a.scrollTop();if(_.hasClass("btn_pnav_prev")&&g<=0||_.hasClass("btn_pnav_next")&&g>=h-v)return;let f=_.hasClass("btn_pnav_next")?g+b+40:g-b-40;a.stop().animate({scrollTop:f},l)})})}},t.fn.kallesProductIsotope=function(s=!0){if(s&&t(this).length){let e=t(this),a=e.data("prmasonry")?e.data("prmasonry"):null;a&&(e.isotope(a).addClass("isotope_ok"),p.on("resize",function(){t(window).width()<768&&e.hasClass("isotope_ok")?e.isotope("destroy").removeClass("isotope_ok"):t(window).width()>=768&&!e.hasClass("isotope_ok")&&e.isotope(a).addClass("isotope_ok")}))}},t.fn.kallesDropdownPicker=function(){t(this).length&&(t(this).on("click",".header_picker, .kalles_dropDown_label",function(s){s.preventDefault(),s.stopPropagation();let e=t(this),a=e.closest(".nt_lt_fake , .kalles_dropdown_container");t(a).hasClass("opended")?t(a).removeClass("opended"):(t(a.closest(".dropdown_picker_js")).find(".nt_lt_fake.opended ,.kalles_dropdown_container.opended").removeClass("opended"),t(a).addClass("opended"))}),o.on("click",function(s){t(s.target).hasClass("header_picker")||t(s.target).hasClass("kalles_dropDown_label")||t(".nt_lt_fake.opended,.kalles_dropdown_container.opended").removeClass("opended")}),o.on("click",".kalles_dropdown_option",function(s){s.preventDefault(),s.stopPropagation();let e=t(this);e.data("label")&&(e.closest(".kalles_dropdown_container").find(".kalles_dropDown_label .lbl-title").html(e.data("label")),e.closest(".kalles_dropdown_container").removeClass("opended"))}))},t.fn.kallesInitProduct360Viewer=function(){if(t(this).length){let s,e=t(this),a=t("#threesixty_container_js");a.length&&t(this).magnificPopup({items:{src:"#pr_360_mfp"},type:"inline",tClose:"Close (Esc)",mainClass:"mfp-fade",removalDelay:160,disableOn:!1,preloader:!1,fixedContentPos:!1,callbacks:{beforeOpen:function(){},open:function(){a.hasClass("done")||(s=a.ThreeSixty({totalFrames:e.data("total_frames"),endFrame:e.data("end_frame"),currentFrame:1,framerate:e.data("frame_rate"),autoplayDirection:e.data("auto_play_direction"),imgList:".threesixty_imgs",progress:".spinner",imagePath:e.data("image_path"),filePrefix:e.data("file_prefix"),ext:e.data("ext"),height:e.data("height"),width:e.data("width"),position:"bottom-center",responsive:!0,navigation:!0}),a.addClass("done"))},beforeClose:function(){s.stop(),t(".nav_bar_stop").removeClass("nav_bar_stop").addClass("nav_bar_play")},close:function(){}}})}},t.fn.kallesShopMode=function(){t(this).length&&o.on("click",".cat_view a:not(.active)",function(s){s.preventDefault();let e=t(this),a=e.data("col"),i=e.data("dev"),n=t(".container_cat .nt_pr"),r=t(".container_cat .nt_products_holder"),l=t(".cat_view,.container_cat .nt_products_holder");switch(l.removeClass("on_list_view_false").addClass("on_list_view_true"),a==="listt4"?l.removeClass("on_list_view_false").addClass("on_list_view_true"):l.removeClass("on_list_view_true").addClass("on_list_view_false"),e.closest("div").removeClass("dev_view_cat"),e.addClass("active").siblings().removeClass("active"),i){case"mb":n.removeClass("col-2 col-3 col-4 col-6 col-12 col-15 col-listt4 done").addClass("done col-"+a);break;case"tb":n.removeClass("col-md-2 col-md-3 col-md-4 col-md-6 col-md-12 col-md-15 col-md-listt4 done").addClass("done col-md-"+a);break;default:n.removeClass("col-lg-2 col-lg-3 col-lg-4 col-lg-6 col-lg-12 col-lg-15 col-lg-listt4 done").addClass("done col-lg-"+a);break}r.hasClass("js_isotope")&&r.isotope("layout")})},t.fn.KallesInitSidebarFilter=function(){if(t(this).length){let s=t(".clear_filter_js");o.on("click",".js_filter",function(e){e.preventDefault();let a=t(this),i=t(a.data("id"));a.toggleClass("opened"),i.is(":hidden")?i.stop().slideDown(200):i.slideUp(200)}),o.on("click",".nt_filter_block li",function(e){e.preventDefault();let a=t(this),i=a.closest(".nt_filter_block").data("filter_condition");a.hasClass("active")?a.removeClass("active"):(a.addClass("active"),(!i||i!=="and")&&a.siblings(".active").removeClass("active")),o.trigger("change-filter-condition")}),s.length&&(o.on("change-filter-condition",function(){t(".nt_filter_block>li.active").length>0?s.parent().is(":visible")||s.parent().slideDown(300):s.parent().is(":visible")&&s.parent().slideUp(300)}),o.on("click",".clear_filter_js",function(e){e.preventDefault(),t(".nt_filter_block>li.active").removeClass("active"),t(this).parent().slideUp(300)}))}},t.fn.kallesRefreshPriceTitle=function(){if(t(this).length){let s=function(n){t("[data-js-minprice]").html(i(parseInt(n[0],10))),t("[data-js-maxprice]").html(i(parseInt(n[1],10)))},e=function(n,r){return n==null||n!==n?r:n},a=function(n,r,l,c){if(r=e(r,2),l=e(l,","),c=e(c,"."),isNaN(n)||n==null)return 0;n=(n/100).toFixed(r);let d=n.split("."),_=d[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+l),h=d[1]?c+d[1]:"";return _+h},i=function(n,r){typeof n=="string"&&(n=n.replace(".",""));let l=/\{\{\s*(\w+)\s*\}\}/,c=r||"${{amount}}",d="";switch(c.match(l)[1]){case"amount":d=a(n,2);break;case"amount_no_decimals":d=a(n,0);break;case"amount_with_space_separator":d=a(n,2," ",".");break;case"amount_no_decimals_with_comma_separator":d=a(n,0,",",".");break;case"amount_no_decimals_with_space_separator":d=a(n,0," ");break;case"amount_with_comma_separator":d=a(n,2,".",",");break}return c.replace(l,d)};t(this).each(function(){t(this).find(".filter_title_btn").show();let n=t(this).find(".price_slider_wrapper"),r=n.find(".price_slider_amount"),l=r.find(".min_price"),c=r.find(".max_price");r.find(".url_price").val();let d=l.data("min"),_=c.data("max"),h=r.data("step")||1,v=l.val(),b=c.val();r.find("input.url_price, input.min_price, input.max_price").hide(),n.find(".price_slider, .price_label ,.price_slider_btn").show();let g=n.find(".price_steps_slider"),f=g[0],D=["span.from","span.to"],I=[".min_price",".max_price"],w=!0;g.length<1||(noUiSlider.create(f,{start:[v,b],connect:!0,step:h,range:{min:d,max:_}}),f.noUiSlider.on("update",function(x,C){let T=parseInt(x[C],10);n.find(D[C]).html(i(T)),r.find(I[C]).val(T),w&&(s(x),w=!1)}))})}},t.fn.kallesLoadQuickView=function(){const s=t(this),e=t("#quick-view-tpl"),a=e.length?e.html():null;a.length?t.magnificPopup.open({items:{src:'<div class="mfp-with-anim popup-quick-view" id="content_quickview">'+a+"</div>",type:"inline"},tClose:"Close (Esc)",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"},open:function(){const i=t(".nt_carousel_qv"),n=i.attr("data-flickity")||"{}";i.flickity(JSON.parse(n)),o.addClass("open_ntqv"),t(".kalles_swatch_js").kallesSwatches(),t("#callBackVariant_qv .single_add_to_cart_button").kallesAnimation(),t("#nt_countdow_qv").initCountdown_pr(),s.removeClass("loading"),t(".dropdown_picker_js").kallesDropdownPicker()},close:function(){t("#content_quickview").empty(),o.removeClass("open_ntqv"),t(".dropdown_picker_js").kallesDropdownPicker()}}}):s.removeClass("loading")},m>=1024&&(o.on("click",".pin_tt_js",function(s){s.preventDefault(),s.stopPropagation();var e=0,a=t(this).parent(".pin__type");if(a.hasClass("pin__opened")&&(e=1),t(".pin__type.pin__opened").removeClass("pin__opened"),t(".pin__slider.pin_slider_opened").removeClass("pin_slider_opened"),!e){var i=t(this).closest(".kalles-section");if(a.addClass("pin__opened"),i.find(".pin__slider").addClass("pin_slider_opened"),!a.hasClass("has_calc_pos")){var n=a.offset(),r=a.find(".pin__popup"),l=a.find(".pin_lazy_js");l.length===0&&(l=r);var c=r.width()+20;if(l.hasClass("pin__popup--left")){if(n.left<c){var d=c-n.left+10;r.css("margin-right","-"+d+"px")}}else if(l.hasClass("pin__popup--right")){var _=t(window).width()-n.left-a.width();if(_<c){var h=c-_+10;r.css("margin-left","-"+h+"px")}}a.addClass("has_calc_pos")}}}),o.on("click",function(s){let e=t(s.target);e.closest(".pin__type").length>0||e.closest(".mfp-wrap").length>0||(t(".pin__type.pin__opened").removeClass("pin__opened"),t(".pin__slider.pin_slider_opened").removeClass("pin_slider_opened"))})),o.on("click","[data-opennt]",function(s){var e=t(s.currentTarget),a=e.data(),i=a.opennt,n=a.color,r=a.bg,l=a.pos,c=a.ani||"has_ntcanvas",d=a.remove,_=a.class,h=a.close||!1,v=a.focuslast||!1,b=e.attr("data-focus"),g=window.pageYOffset;window.height-t("#kalles-section-header_banner").outerHeight()-t(".ntheader_wrapper").outerHeight();var f=function(){g&&t("html, body").scrollTop(g)};e.addClass("current_clicked"),t.magnificPopup.open({items:{src:i,type:"inline",tLoading:'<div class="loading-spin dark"></div>'},tClose:"Close (Esc)",removalDelay:300,closeBtnInside:h,focus:b,autoFocusLast:v,callbacks:{beforeOpen:function(){this.st.mainClass=c+" "+n+" "+c+"_"+l},open:function(){S.addClass(c),S.addClass(c+"_"+l),_&&t(".mfp-content").addClass(_),r&&t(".mfp-bg").addClass(r),o.on("click",".close_pp",function(D){D.preventDefault(),t.magnificPopup.close()}),f()},beforeClose:function(){S.removeClass(c)},afterClose:function(){S.removeClass(c+"_"+l),t(".current_clicked").removeClass("current_clicked"),d&&t(i).removeClass("mfp-hide")}}}),s.preventDefault()}),o.initStickyMenu(),t(".js_kl__countdown").bannerCountdown(),o.on("click",".push_side",function(s){const e=t(this),a=e.data("id"),i=t(a);i.length!==0&&(s.preventDefault(),t(o).hasClass("pside_opened")&&t(o).closeMenu(),e.openMenu(i))}),o.on("click touchstart",".mask-overlay",function(s){t(this).closeMenu()}),o.on("click",".act_opened .close_pp",function(){t(this).closeMenu()}),o.on("click",".js_addtc , .single_add_to_cart_button",function(s){s.preventDefault(),s.stopPropagation();let e=t("#nt_cart_canvas"),a=t(this);e.length!==0&&(a.addClass("loading"),t.magnificPopup&&t.magnificPopup.instance.isOpen&&t.magnificPopup.close(),t(o).hasClass("pside_opened")&&t(o).closeMenu(),o.hasClass("cart_pos_dropdown")?setTimeout(()=>{t("html, body").animate({scrollTop:0},"slow",()=>{e.addClass("current_hover"),a.removeClass("loading")})},500):setTimeout(()=>{a.openMenu(e),a.removeClass("loading")},500))}),o.on("click",".nt_add_w",function(s){s.preventDefault(),s.stopPropagation();let e=t(this),a=e.find(".wishlistadd");a.addClass("loading"),setTimeout(()=>{a.removeClass("loading"),e.toggleClass("wis_added")},500)}),t("#nt_backtop").kallesBackToTop(),t(".pr_coun_dt:not(.done_cd)").initCountdown(),t(".sepr_coun_dt:not(.done_cd)").initSeCountdown(),o.on("click",".js_cart_tls",function(s){s.preventDefault(),clearTimeout(z);let e=t(this).data("id");N.addClass("ld_nt_cl ld_cart_tls"),t(".mini_cart_"+e).addClass("is_nt_op"),e==="note"?z=setTimeout(function(){t("#CartSpecialInstructions").focus()},500):e==="dis"&&(z=setTimeout(function(){t("#Cartdiscode").focus()},500))}),o.on("click",".js_cart_tls_back",function(s){s.preventDefault(),clearTimeout(z),N.removeClass("ld_nt_cl ld_cart_tls"),t(".is_nt_op").removeClass("is_nt_op")}),t(".r--reply-form-wrapper").length){const s=a=>{a.find(".r--reply-items").addClass("d-none"),a.find(".r--comment-form-wrap").removeClass("d-none"),a.find(".r--reply-button").addClass("d-none")},e=a=>{a.find(".r--reply-items").removeClass("d-none"),a.find(".r--comment-form-wrap").addClass("d-none"),a.find(".r--reply-button").removeClass("d-none")};o.on("click",".btn_control_reply_comment",function(a){return a.preventDefault(),a.stopPropagation(),t(this).hasClass("reply-comment--on")?s(t(this).closest(".r--reply-form-wrapper")):e(t(this).closest(".r--reply-form-wrapper"))})}if(t("#nt_login_canvas").linkAcc(),t(".dt_trigger_cl").linkTrigger(),t("#nt_menu_canvas , #nav_header7").kallesMobileNav(),t(".lazy_menu:not(.calc_pos)").kallesLazyMenu(),t("ul.tab_cat_title li a").catTabs(),o.on("click",".nt_swatch_on_bg:not(.current-swatch)",function(){touchevents&&t(this).swatchesOnBGGrid()}),t(".nt_parallax_true").parallax(),y&&t(".footer_collapse_true").length&&t(".footer_collapse_true .widget-title").off("click").on("click",function(){let s=t(this),e=s.parent(),a=e.find("> .widget_footer");e.hasClass("footer_opened")?(e.removeClass("footer_opened"),a.stop().slideUp(200)):(e.addClass("footer_opened"),a.stop().slideDown(200))}),t(".footer_sticky_true").length===0)t("#nt_content").css({marginBottom:0});else if(p.width()>1024){let s=t("#nt_footer"),e=t("#nt_content");t(".kalles_prefooter").length>0&&(e=t(".kalles_prefooter"));const a=()=>{e.css({marginBottom:s.outerHeight()})};if(p.on("resize",a),a(),o.addClass("calc_footer_sticky"),S.hasClass("browser-Safari")){const i=function(){let n=p.scrollTop();t(document).outerHeight()-s.outerHeight()<n+s.outerHeight()+p.outerHeight()?s.addClass("visible_footer"):s.removeClass("visible_footer")};i(),p.on("scroll",i)}}if(o.hasClass("cart_pos_dropdown")&&!touchevents&&!o.hasClass("template-cart")){let s=t("#nt_cart_canvas"),e=t(".cart_pos_dropdown .icon_cart");p.height();let a=p.width(),i=e.offset().top,n=a-(e.offset().left+e.outerWidth());e.outerHeight();let r=i+40;s.css({position:"absolute",top:r,right:n}),s.on("mouseleave",function(){o.removeClass("oped_dropdown_cart"),s.removeClass("current_hover")})}t(".sp-tabs .tab-heading").length&&t(document).on("click",".sp-tabs .tab-heading",function(s){s.preventDefault();let e=t(this),a=e.closest(".sp-tab"),i=e.closest(".sp-tabs"),n=e.closest(".nt_section"),r=300;n.length===0&&(n=e.closest(".kalles-section")),a.addClass("clicked_accordion"),a.hasClass("active")?(a.removeClass("active"),a.find(".sp-tab-content").slideUp(r)):(i.find(".sp-tab").removeClass("active"),a.addClass("active"),i.find(".sp-tab-content").slideUp(150),a.find(".sp-tab-content").stop(!0,!0).slideDown(r),setTimeout(function(){a.find(".sp-tab-content .js_packery").packery("layout");var l=i.find(".sp-tab.active .js_ck_view");if(!V(l,!0)){var c=t(".ntheader.live_stuck .sp_header_mid").height()||0,d=n.find(".sp-tab.active").offset().top-c-10;t("body,html").animate({scrollTop:d})}},200))}),t("#btn_mfp_360").kallesInitProduct360Viewer(),o.on("click",".ajax_pp_js",function(s){s.preventDefault(),s.stopPropagation();const e=t(this),a=e.data("id"),i=a!==void 0?t(a).html():null;i&&t.magnificPopup.open({items:{src:i,type:"inline"},removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"}}})}),o.on("click",".ul_tabs>.tab_title_block>a",function(s){s.preventDefault();const e=t(this),a=e.closest(".sp-tabs");a.find(".tab_title_block").removeClass("active"),e.closest("li").addClass("active").addClass("active"),a.find(".sp-tab.panel").hide().removeClass("active"),a.find(e.attr("href")).show().addClass("active")}),t("#wrap_fbt").length&&o.on("change",".js_fbt_ck",function(){let s=t(this),e=s.closest(".kl_fbt_li");s.is(":checked")?(e.length&&(e.addClass("kl_fbt_checked"),e.find(".js_fbt_sl").prop("disabled",!1)),e.data("sl")&&e.closest(".kl_fbt_wrap").find(e.data("sl")).fadeIn(300)):(e.length&&(e.removeClass("kl_fbt_checked"),e.find(".js_fbt_sl").prop("disabled",!0)),e.data("sl")&&e.closest(".kl_fbt_wrap").find(e.data("sl")).fadeOut(300))}),setTimeout(()=>t(".kalles_product_thumnb_slide").kallesSingleProductThumbnail(),100),t(".p-thumb.only_owl_mb").kallesProductIsotope(!y),t("#nt_countdow_ppr").initCountdown_pr(),t(".dropdown_picker_js,.kalles_dropdown").kallesDropdownPicker(),t(".cat_view").kallesShopMode(),t(".js_filter").KallesInitSidebarFilter(),t(".filter_area_js, .js_sidebar").kallesRefreshPriceTitle(),setTimeout(()=>{t(".prs_bordered_grid_3 .product-extra [data-flickityjs]").each(function(){const e=t(this).data("flickityjs");if(e){const a=e.selectedCells?e.selectedCells.length:null,i=e.cells?e.cells.length:null;a&&i&&a===i?t(this).addClass("flickity_prev_disable flickity_next_disable"):t(this).removeClass("flickity_prev_disable flickity_next_disable"),t(this).flickity(e)}})},1e3),t(window).resize(function(s){t(window).width()>767&&t(".calc_pos .lazy_menu").kallesInitMegaMenu(),setTimeout(()=>t(".flickity-enabled").kallesDisableNavSlider(),3e3)})})(window.jQuery);$("#sortCriteria").on("change",function(t){t.preventDefault(),t.stopPropagation();var o=$(this).val();J(o)});function J(t){$.ajax({url:"/shop",method:"GET",dataType:"json",data:{creteria:t},success:function(o){var p=$("#productList");p.empty(),o.products.forEach(function(u){var y,j,S;var m=$("<div>",{class:"col-lg-3 col-md-3 col-6 pr_animated done mt__30 pr_grid_item product nt_pr desgin__1"});m.html(`
                    <div class="product-inner pr">
                        <div class="product-image pr oh lazyload">
                            <a class="d-block" href="/product-details_${u.id}">
                                <img data-src="/storage/${((y=u.images[0])==null?void 0:y.url)??""}" class="pr_lazy_img main-img nt_img_ratio nt_bg_lz lazyload" alt="">
                            </a>
                            <div class="hover_img pa pe_none t__0 l__0 r__0 b__0 op__0">
                                <img data-src="/storage/${((j=u.images[1])==null?void 0:j.url)??((S=u.images[0])==null?void 0:S.url)??""}" class="pr_lazy_img back-img pa nt_bg_lz lazyload" alt="">
                            </div>
                            <div class="hover_button op__0 tc pa flex column ts__03">
                                <a href="" class="pr pr_atc cd br__40 bgw tc dib js__qs cb chp ttip_nt tooltip_top_left add-to-cart-btn" data-product-id="${u.id}">
                                    <span class="tt_txt">Quick Shop</span>
                                    <i class='bx bxs-cart-add'></i>
                                    <span>Quick Shop</span> 
                                </a>
                            </div>
                        </div>
                        <div class="product-info mt__15">
                            <h3 class="product-title pr fs__14 mg__0 fwm">
                                <a class="cd chp" href="/product-details_${u.id}">${u.name}</a>
                            </h3>
                            <span class="price dib mb__5">
                                <ins>
                                ${new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh"}).format(Number(u.price).toFixed(0))}
                                </ins>
                            </span>
                        </div>
                    </div>
                `),p.append(m)}),$(".add-to-cart-btn").on("click",function(u){u.preventDefault(),u.stopPropagation();const m=$(this).data("product-id");$(this).addClass("loading"),H(m)})}})}$(".add-to-cart-btn").on("click",function(t){t.preventDefault(),t.stopPropagation();var o=$(this).data("product-id");$(this).addClass("loading"),H(o)});function H(t){$.ajax({url:"/add-to-cart/"+t,type:"POST",datatype:"json",data:{_token:$('meta[name="csrf-token"]').attr("content")}}).done(function(o){var p=o.cart_products;setTimeout(function(){$(".add-to-cart-btn").hasClass("js__qs")&&toastr.success("cart updated")},500),$(".add-to-cart-btn").removeClass("loading"),$(".fixcl-scroll-content").find(".empty.tc").remove(),$(document).find(".mini_cart_tool").remove(),$(".mini_cart_items").remove(),$.each(p,function(u,m){var y=`<div class="mini_cart_items js_cat_items lazyload">
        <div class="mini_cart_item js_cart_item flex al_center pr oh">
            <div class="ld_cart_bar"></div>
            <a href="" class="mini_cart_img">
                <img class="w__100 lazyload" style="height: 100px;width:100px;object-fit:cover" data-src="storage/`+m.item.images[0].url+`" width="120" height="153" alt="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTUzIiB2aWV3Qm94PSIwIDAgMTIwIDE1MyI+PC9zdmc+">
            </a>
            <div class="mini_cart_info">
                <a href="" class="mini_cart_title truncate"> `+m.item.name+`</a>
                <div class="mini_cart_meta">
                    <p class="cart_selling_plan"></p>
                    <div class="cart_meta_price price">
                        <div class="cart_price">
                            <ins>
                                ${new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh"}).format(Number(m.item.price).toFixed(0))}
                            </ins>
                        </div>
                    </div>
                </div>
                <div class="mini_cart_actions">
                    <div class="quantity pr mr__10 qty__true">
                        <input type="number" class="input-text qty text tc qty_cart_js" name="product_`+m.item.id+'" disabled value="'+m.qty+`">
                    </div>
                    <a href="/shopping-cart" class="cart_ac_edit js__qs ttip_nt tooltip_top_right"><span class="tt_txt">Edit this item</span>
                        <i class='bx bxs-edit h4'></i>
                    </a>
                    <a href="" class="cart_ac_remove js_cart_rem ttip_nt tooltip_top_right" data-id="`+m.item.id+`"><span class="tt_txt">Remove this item</span>
                        <i class='bx bx-x h4'></i>
                    </a>
                </div>
            </div>
        </div>
    </div>`;$(".fixcl-scroll-content.cart-products").append(y)}),$(".cart_ac_remove").on("click",function(u){u.preventDefault(),u.stopPropagation();var m=$(this).data("id"),y=$(this).closest(".mini_cart_item"),j=y.find(".ld_cart_bar");$(document).addClass("ld_nt_cl"),K(m,j,y)}),$(".fixcl-scroll-content.cart-products").append(`
    <div class="mini_cart_tool js_cart_tool tc">
        <div data-id="ship" class="mini_cart_tool_ship js_cart_tls ttip_nt tooltip_top">
        <i class='bx bx-taxi'></i><span class="tt_txt">Estimate Shipping</span>
        </div>
    </div>`),$(document).find(".tcount").remove(),$(document).find(".toolbar_count").remove(),$("#mobcartvalue").append("<span class='jsccount toolbar_count'>"+o.totalQty+"</span>"),$("#cartvalue").append("<span class='op__0 ts_op pa tcount bgb br__50 cw tc'>"+o.totalQty+"</span>"),$(document).find(".cart_tot_price").remove(),$(".js_cat_ttprice").append("<div class='cart_tot_price'>"+new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh"}).format(Number(o.subtotal).toFixed(0))+"</div>")}).fail(function(o,p,u){console.log("Server error occured")})}$(".cart_ac_remove").on("click",function(t){t.preventDefault(),t.stopPropagation();var o=$(this).data("id"),p=$(this).closest(".mini_cart_item"),u=p.find(".ld_cart_bar");$(document).addClass("ld_nt_cl"),K(o,u,p)});function K(t,o,p){$.ajax({url:"/shopping/removeItem/"+t,type:"get",dataType:"json"}).done(function(u){o.length?(o.addClass("on_star"),setTimeout(()=>{o.addClass("on_end"),p.slideUp(300,"swing",function(){$(this).remove(),$(document).find(".mini_cart_item").length||($(document).find(".mini_cart_items , .mini_cart_tool").remove(),$(document).find(".empty.tc").show(300,"swing",function(){$(this).removeClass("dn")}))}),$(document).removeClass("ld_nt_cl")},1e3)):setTimeout(()=>{p.slideUp(300,"swing",function(){$(this).remove(),$(document).find(".mini_cart_item").length||($(document).find(".mini_cart_items , .mini_cart_tool").remove(),$(document).find(".empty.tc").show(300,"swing",function(){$(this).removeClass("dn")}))}),$(document).removeClass("ld_nt_cl")},1e3),$(document).find(".tcount").remove(),$(document).find(".toolbar_count").remove(),$("#mobcartvalue").append("<span class='jsccount toolbar_count'>"+u.totalQty+"</span>"),$("#cartvalue").append("<span class='op__0 ts_op pa tcount bgb br__50 cw tc'>"+u.totalQty+"</span>"),$(document).find(".cart_tot_price").remove(),$(".js_cat_ttprice").append("<div class='cart_tot_price'>"+new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh"}).format(Number(u.subtotal).toFixed(0))+"</div>")}).fail(function(u,m,y){console.log("Server error occured")})}var X="",Y=1;$(".load-more-data").on("click",function(){Y++,tt(Y)});function tt(t){$.ajax({url:X+"?page="+t,datatype:"json",type:"get",data:{_token:$('meta[name="csrf-token"]').attr("content")}}).done(function(o){if(o.html==""){$(".load-more-data").html("No more trending products"),$(".load-more-data").attr("disabled",!0);return}$(".auto-load").hide(),$("#data-wrapper").append("<div class='products nt_products_holder row fl_center row_pr_1 cdt_des_5 round_cd_true nt_cover ratio_nt position_8 space_30'>"+o.html+"</div>"),$(".add-to-cart-btn").on("click",function(p){p.preventDefault(),p.stopPropagation();const u=$(this).data("product-id");$(this).addClass("loading"),H(u)})}).fail(function(o,p,u){console.log("Server error occured")})}$(function(){$(document).on("click",".pagination a",function(t){t.preventDefault();var o=$(this).attr("href").split("page=")[1];$.ajax({url:"/pagination/products?page="+o,success:function(p){$(".shop-data").html(p)}})}),$(document).on("keyup",function(t){t.preventDefault();var o=$("#search").val();$.ajax({url:"/search",method:"GET",data:{search_string:o},success:function(p){let u="";p.products.length<=0&&(u+=`<div class="text-danger text-center">${p.message}</div>`);for(let m=0;m<p.products.length;m++)u+=`<div class='row mb__10 pb__10'>
                    <div class='col widget_img_pr'>
                        <a class='db pr oh' href='/product-details_`+p.products[m].id+`' width='80' height='80'>
                        <img src="storage/`+p.products[m].images[0].url+`" alt="img">
                        </a>
                    </div>
                    <div class='col widget_if_pr'>
                        <a class='product-title db' href='/product-details_`+p.products[m].id+`'>
                        `+p.products[m].name+`
                        </a>
                        <ins>
                        `+new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh"}).format(p.products[m].price)+`
                        </ins>
                    </div>
                </div>`;$("#search_product").html(u)},error:function(p){console.log("Server error occured")}})}),$(document).on("submit","#payform",function(t){t.preventDefault(),$.ajax({url:"/payments/initiatepush",data:new FormData(this),type:"POST",cache:!1,contentType:!1,processData:!1,success:function(o){$("#payform").trigger("reset"),toastr.success("Enter your MPESA pin to complete the order","Success"),$("#cart-modal").modal("hide")},error:function(o){console.log("Server error occured")}})})});$(function(){var t=!1;$("#notfbell").on("click",function(o){o.preventDefault(),$(this).text(),t?($("#box").css("height","0px"),$("#box").css("opacity","0"),t=!1):($("#box").css("height","auto"),$("#box").css("opacity","1"),t=!0)})});
